
CHANGELOG 

I'll try my best to keep this current.  --rus.

##############################################################################

06/06/2006  - snapshot of code taken and released under the 2.12.4 label.

05/30/2006  - various fixes for chroot'd mail/ftp-only users on dedicated 
              environment.

04/25/2006  - fixed some minor bugs.

04/12/2006  - made modifcations to the vhosts code after discovering that 
              apache2 (on FreeBSD6) requires SuexecGroupUser directive instead
              of User and Group directives.  SSLEnable and SSLDisable are also
              deprecated in favor of SSLEngine (on|off).  new apache2 vhost
              templates were also created. 

04/11/2006  - clarified the "save selected messages" instructions and added
              an error notification if a submit is made without making changes
              to the destination path.

04/05/2006  - added support to view message/rfc822 attachments (finally!).

04/05/2006  - tidy up stale and empty directories in mailbox cache.

04/04/2006  - decoding long authorization strings now works correctly; this 
              fixes a bug where long e-mail addresses caused incessant queries
              for re-authentication.

04/04/2006  - have done a lot of work on suppressing the inordinate amount of 
              innocuous (yet annoying) warning messages generated by the code.
              should have used the '-w' from the get go.  my bad.

03/20/2006  - expanded select element rows for aliases, users, virtmaps, et al
              when number is greater than 100 (per user suggestion).

02/16/2006  - added support to decode utf-8 encoded mail headers.

##############################################################################

01/11/2006  - snapshot of code taken and released under the 2.12.3 label.

12/28/2005  - when adding/editing aliases, added check to alias name values 
              for invalid characters such as colon and ampersand.  one new 
              string was added; see strings/CHANGELOG for details.

12/22/2005  - when changing the message range to something other than the
              default preference, that new value now is sticky until the 
              session ends.

12/14/2005  - make default view when sorting in order the end of mailbox.

12/07/2005  - added a new view for the mailmanager... view by mail message
              threads.  the new mailbox view option required that one new 
              string be added; see strings/CHANGELOG for details.

06/02/2005  - fixed some regex's which failed to extract boundary strings. 

03/30/2005  - added a symlink for strings/en-us pointing to strings/en.

03/16/2005  - add a clear cache call if mailbox cache is stale.  prevents the
              cache dir from getting unnecessarily bloated.

03/14/2005  - fix for problem where uploaded files were not inheriting proper
              group ownership (files were always in the 'wheel' group).

03/14/2005  - fix for minor problem where script files weren't set executable
              after upload.

##############################################################################

02/28/2005  - snapshot of code taken and released under the 2.12.2 label.

02/25/2005  - allow server admin to chmod/chown on dedicated platform if the
              admin has elevated file manager privs.

02/14/2005  - set/enable/get system quota info now done by super user; fixes
              problem where actions were failing as server admin.

02/09/2005  - fixed problem in file upload (from file manager or in the mail
              manager) where it would hang if the client navigated away from 
              the page before the process finished normally (or navigated 
              away from the page without hitting Cancel).   

02/09/2005  - adjust password length help string based on whether md5 hashed
              passwords are supported.  see strings/CHANGELOG for details.

12/23/2004  - added links in the view mail message screen to allow navigation
              to next and previous messages (accurately computed based on each
              of the five mailbox sorting options).  new 'previous' and 'next'
              navigation strings were added; see strings/CHANGELOG for more
              details. 

12/16/2004  - split of the password help string into three new strings; see
              strings/CHANGELOG for more details.

12/16/2004  - added a new preference which allows administrators to disable 
              (or enforce) the stronger password selection rules.  new strings
              were added; see strings/CHANGELOG for more details.

12/13/2004  - fixed another truncate problem when reading/writing a file in 
              place while uploading a file in the filemanager.

12/10/2004  - new preference added which allows the admin user to read/write
              to the entire file system as if the admin user were the root 
              user.  new strings were added; see strings/CHANGELOG for more
              details.

12/01/2004  - fix for determining language preference from browser setting.

11/22/2004  - truncate root prefs file after opening with a read/write file 
              handle.  fixes bug where old prefs were still lingering in the 
              file and being loaded.

11/21/2004  - fix for parsing local-host-names when found in an external file.

##############################################################################

11/17/2004  - hotfix for 2.12 released under the 2.12.1 label.

11/15/2004  - fix for change primary login group bug.

11/11/2004  - updated preferences sanity checking logic.  sanity checker is 
              now called both before saving and after loading (to account for
              manually manufactured errors).

11/09/2004  - finished rewriting the basic message decoding algorithm (there 
              are several spread throughout the code base) to better account 
              for quoted printable stuff, seems to work a lot better.

11/05/2004  - fix to allow administrative login to set security preferences.

10/04/2004  - default outgoing content-type for message body is now set 
              properly for japanese language pref.

11/01/2004  - fix for importing group addressbook contacts from file.

10/29/2004  - enforce a stronger password selection criteria.  some new error
              strings were added; see strings/CHANGELOG for details.

10/26/2004  - lock fstab and rc.conf before editing when turning quotas on.

10/25/2004  - enforce a stronger password selection criteria.  some new error
              strings were added; see strings/CHANGELOG for details.

10/23/2004  - fix for differentiating betwee x-imap and x-imapbase headers.

10/22/2004  - trap on duplicate when adding/editing groups, virtmaps, vhosts,
              aliases, and mail access entries.  new error message strings
              were added; see strings/CHANGELOG for details.

10/22/2004  - fix for setting up administrative user on virtual env (which
              prohibited full user hash getting loaded).

10/15/2004  - reformatted display of system information when viewing root or
              administrative user profile.  three new strings were added.  see
              strings/CHANGELOG for more details.

10/15/2004  - added security setting to enable/disable 'root' login.  four new
              strings were added; see strings/CHANGELOG for more details.

10/11/2004  - added a new security preference to disable/enable 'root' login.
              the default is disabled.

10/04/2004  - fix for failure to display edited virtual host hostnames (only
              applicable for the virtual environment).

10/04/2004  - create .spamassassin directory in home directory before 
              attempting to save spamassassin user preferences.  duh.

10/01/2004  - save the pid of upload cgi requests so that if a subsequent 
              "Cancel" request is made, the process(es) can be identified and
              killed.

09/30/2004  - don't use a spamc/spamd based spamassassin procmailrc recipe on
              the dedicated platform if it isn't installed.  oops.

09/29/2004  - pass a filehandle down to formTextArea to load up default 
              content when calling from fm_edit; much lighter on memory 
              consumption when attempting to edit uber-large text files.

09/28/2004  - set the administrative user correctly; this bug was introduced
              when fix was applied that only loads up a partial list of the
              passwd file to conserve memory.  

09/28/2004  - fix for valid shell determination (any shell is valid if not
              using .forward file to exec autoresponder/spamassassin).

09/27/2004  - backup /etc/shadow (solaris) when making changes to passwd file.

09/23/2004  - support for apache2 added.

##############################################################################

08/30/2004  - snapshot of code taken and committed under the 2.12 label.

08/17/2004  - fix for converting non-EUC-JP characters when viewing or editing
              a file using the filemanager.

08/16/2004  - ignore x-imap messages.

08/16/2004  - fix for poorly chosen default mail folder default pref value for
              users with existing saved preferences.

08/11/2004  - changed a couple of string definitions in the auth string 
              library to avoid information giveaways.  see strings/CHANGELOG
              for more details.

07/30/2004  - no need to run a system check for quota if not root since a 
              non-privileged user won't be able to enable quotas on the file
              system.

07/30/2004  - fix for encoding message headers in Japanese when more than one
              quoted name and address are included in the To, Cc, or Bcc
              field.

07/29/2004  - fix for handling for relative path specifications applied.

07/29/2004  - clean up temporary mail header and body files when the mail
              compose feature can't be completed because of an inadequate 
              amount of free disk space.

07/28/2004  - don't Fcc to folder if user is over quota... duh!

07/28/2004  - only load up appropriate entries from the passwd file; skip 
              everything else to save on memory.

07/28/2004  - set real/effective uid (on dedicated platform) to zero from time
              of init.

07/28/2004  - fixed the error handling routine to print to STDERR instead of
              to STDIN if a response header has already been sent back to the
              client.

07/23/2004  - clean up properly if uploading files and user is over quota.

07/23/2004  - changed the default folder for mail from "/Mail" to "~/Mail";  
              this is more appropriate for a dedicated environment and code 
              was added to make it work for a virtual (or chroot'd) env.

07/23/2004  - fix for writing From envelope to Fcc folder.

07/15/2004  - quotemeta regex for user to prevent mismatches when user login
              includes a period (similar action was required with groups).

07/14/2004  - test for text-based files is now primarily determined by mime
              type; the perl '-T' test is used in a secondary manner.

07/13/2004  - always confirm "delete all messages" from mailbox.

07/13/2004  - fix for being a little too strict with cgi-bin file permissions
              when creating a new virtual host.

07/13/2004  - added a new string to summarize apache restart failure status.
              see strings/CHANGELOG for details. 

06/30/2004  - fix for unilaterally decoding text/html (and other text based 
              attachments) to euc-jp even if another charset was specified.

06/30/2004  - fix for loading custom server-wide security preferences.

06/29/2004  - fixed ownership problem when adding user to exisitng group.

06/28/2004  - fix for deleting temporary files when disk space is exceeded.
              there were a couple places that the housekeeping wasn't being 
              done, such as when a file is uploaded as an outgoing attachment
              in the mail composition form.

06/11/2004  - always print out MIME headers to outgoing messages irregardless 
              if the outgoing message is multipart or not.

06/02/2004  - run a config test on the httpd.conf file before a restart is 
              attempted.  if an error exists in the syntax then display it to
              the user instead of forcing a restart and breaking everything.

05/20/2004  - reconfigured the mail manager interface with the goal to make it
              easier to navigate between the many different sub-interfaces 
              which it supports. new strings were added; see strings/CHANGELOG
              for details.

05/10/2004  - added the capability to show certain attachment and message 
              types in-line (i.e. images).  new strings were added; see 
              strings/CHANGELOG for details.

04/28/2004  - support for spamc based SA invocation.

04/23/2004  - fixed javascript in addressbook to refer to window.document 
              object instead of window object.  oops.

04/12/2004  - added support to vinstall imanager2 (if vinstall is available).
              new strings were added; see strings/CHANGELOG for details.

04/07/2004  - added custom autoresponder log language strings which are 
              displayed when viewing the autoresponder log in place of the 
              default (english) output the autoreply program stores in the 
              log.  new strings were added; see strings/CHANGELOG for more
              details.

03/26/2004  - added option to specify '/sbin/nologin' as shell for new users
              on dedicated platform.

03/19/2004  - added new recipe block for invoking SA (size < 256000)

03/18/2004  - added help text for the Login Shell field when adding users to 
              the dedicated environment.  new strings were added; please see
              strings/CHANGELOG for more details:

03/17/2004  - added a spamassassin version display to the spamassassin 
              interface.  one new string was added; see strings/CHANGELOG for
              more details.

03/12/2004  - bug fix for problem encountered when writing to user_prefs, 
              .forward, and .procmailrc if it had been detected that they 
              had been externally modified.

03/09/2004  - fix for disk usage computation; count blocks instead of bytes;
              sparse files were causing the byte-based computation to be 
              inaccurate. 

03/04/2004  - modified the help text for the custom mode setting for the 
              spamassassin interface so that it is clear that lower numbers 
              filter more messages, whereas higher numbers filter less.  see
              strings/CHANGELOG for more details.

02/25/2004  - applied workaround to try and trick IE 5.x on Macs to 
              "download" a file.

02/20/2004  - fix for setting multiple effective group id vector.

02/18/2004  - fix for mangling shift-jis chars in address book names (cross 
              your fingers).

02/18/2004  - explicitly restrict the logid ID to a maxlength of 16 chars
              when adding a new user.

02/18/2004  - no more spam can in mail filters image.

02/09/2004  - expanded some regular expressions which check for encoded 
              strings within mail message headers (like the Subject line)

01/22/2004  - fixed problem where outgoing mail envelope wasn't getting setup
              properly.

01/14/2004  - fixed the javascript problem where it failed if address book
              entry has special characters.

01/13/2004  - fix for file copy/rename error for multiple tagged files to an 
              existing directory.

11/21/2003  - fix for hidden hostname check failing when configuring more than
              one unlinked vhosts.

11/20/2003  - don't wrap vhost directives in text areas.  duh.

11/20/2003  - fix for deleting vhosts which contain trailing whitespace in 
              <VirtualHost host.name > tag.  oops.

##############################################################################

11/12/2003  - snapshot of code taken and committed under the 2.11 label.

10/21/2003  - cannot enable autoresponder if message content is not defined.
              new string was added; see strings/CHANGELOG for details.

09/19/2003  - fixed the problem when updating message status flags when user
              is close to the ceiling on disk usage.  fix employed same 
              methods as remedy for deleting messages, i.e. read/write to
              the file in place instead of creating a copy of the file.

09/19/2003  - fixed up the javascript for the save messages script.  should 
              work much better now (without the unnecessary page reloads).

09/18/2003  - added a refresh page option when viewing the INBOX.  added two
              new strings; see strings/CHANGELOG for details.

09/17/2003  - fixed the problem when deleting messages when user is close to 
              max quota usage.  now read/write to same file instead of 
              creating a copy of the file.  cool trick. 

09/16/2003  - added a chown/chgrp interface.  several new strings were added;
              see strings/CHANGELOG for details.

09/15/2003  - if user has shell privileges on a dedicated platform, then the
              file manager is no longer ch'rooted. 

09/12/2003  - added a kludgy check for "Out of memory!" crashes when viewing a
              mailbox that has enough messages to exceed stack usage by the
              sorting algorithm.  it doesn't prevent the crash; only prevents
              it from happening repeatedly (2nd attempt) by displaying an
              option to display the mailbox in order.  two new strings were
              added; see strings/CHANGELOG for details. 
              
09/11/2003  - added a check for duplicate login submission when creating more 
              than one new user at a time.  required the addition of a new 
              error message string; see strings/CHANGELOG for details. 

09/11/2003  - added links from the compose message form to the addressbook and
              created an addressbook entry selector.  several new strings were
              introduced; see strings/CHANGELOG for details.

09/09/2003  - fixed an infinite loop which occurred when the user specified 
              the destination folder for a save message request to be the same
              as the source folder.  required the addition of a new string
              definition; see strings/CHANGELOG for details.

08/14/2003  - reformatted message range display when displaying a mailbox.
              added the capability to allow the user to change the mailbox and
              message display range using inline text entry boxes. Added one 
              new string; see strings/CHANGELOG for details.

08/08/2003  - added a new sorting option when viewing mail messages.  The
              "in_order" sorting option is useful when viewing mail folders 
              that have a large volume of e-mail messages; a situation that 
              has in the past been the source of "Out of Memory!" error 
              messages.  New strings were added; see strings/CHANGELOG for 
              more details.

07/21/2003  - added display of autoresponder log size and num entries to the 
              autoresponder utility summary.  three new strings were added; 
              see strings/CHANGELOG for details.

07/18/2003  - added a frontend for spamassassin enable/disable filtering,
              control user preferences, and view/reset logs.  several new 
              strings added to the mailmanager library; see strings/CHANGELOG
              for a complete list.

07/14/2003  - fixed the problem where whitespace before and after text area
              widget submissions were inadvertently scrubbed.

07/12/2003  - added a generic error notification to each of the tools and
              wizards to highlight a form submission which contain one or more
              errors.  one new string was added; see strings/CHANGELOG for 
              further details.

07/11/2003  - added a warning to the autoresponder utility when the user's
              login shell does not appear to be "valid"; i.e. when it is not
              listed in /etc/shells.  new string was introduced; see the
              strings/CHANGELOG for details.

              mailmanager: MAILMANAGER_AUTOREPLY_INVALID_SHELL

07/10/2003  - added suite of utilities to manage etc/group entries.  many new
              strings were added; see strings/CHANGELOG for details.

06/28/2003  - fixed a dozen and a half bugs or so over the last few weeks and
              posted a new stable build in the development section of the FTP
              area.  stability on the dedicated platform seems to be getting 
              closer to a reality.

06/19/2003  - added a Tag/Untag All button to the filemanager directory and 
              mailmanager mailbox and addressbook utilities so that a user can
              easily tag all the entries without having to click on each one.
              added two new strings to the main string library, see the
              strings/CHANGELOG for more details.

06/16/2003  - added an example of virtmaps that is specific to the dedicated
              environment.  see the strings/CHANGELOG for more details.

06/06/2003  - added the display of ownership, permissions, and last 
              modification to the file browser.  two strings new strings were
              added; see strings/CHANGELOG for more details.

05/28/2003  - added ability to review users one at a time from the 'View All'
              users utility.  a link to the edit user utility is then found
              in the view single user screen.

05/27/2003  - added additional information for the system administrator to 
              review in user profile (it used to be pretty sparse); namely,
              a summary of disk utilization is now included as well as a 
              summary of the number of ordinary and system users.  several
              new strings were added; see strings/CHANGELOG for more details.  

05/23/2003  - fixed the bug where a blank entry is placed in /etc/passwd
              when editing a user on dedicated platform.

05/22/2003  - fixed the group list when viewing a profile and when editing
              users.

05/20/2003  - added an additional confirmation string to emphasize that 
              deleting all messages from a mailbox is an irreversible act.
              see strings/CHANGELOG for details.

05/19/2003  - fixed a problem where mode of /etc/passwd was getting changed
              to 0600 instead of 0644.

05/18/2003  - fixed a problem where the display path built in the file
              manager contained incorrect links.

05/13/2003  - added checkboxes to the filemanager to support actions such as
              copy, move, and delete on multiple selected files.  new strings
              were added to the strings library; see strings/CHANGELOG for 
              details.

05/12/2003  - added some additional help strings to display as the 'title' 
              attribute for anchor text.  several new strings were added to
              the strings library; see strings/CHANGELOG for details.

04/29/2003  - added a specific vhost example for both the dedicated and 
              virtual environments.  two new strings were added; see the
              strings/CHANGELOG for details.

04/29/2003  - added a message to show when no changes are found when editing
              various objects (i.e. aliases, virtmaps, etc).  six new strings
              were added; see strings/CHANGELOG for details.

04/22/2003  - fixed an ownership problem with the httpd.conf file in the
              dedicated environment.  the file would become 'root' owned 
              after being edited; a chown back to 'webadmin' was the cure.

04/21/2003  - fixed a bug where a user in the dedicated environment was not
              allowed to remove a message in their own incoming mail folder.

04/09/2003  - fixed a bug where creating a subhost in conjunction with 
              creating a user did not work correctly.

04/03/2003  - allow any user in the 'wheel' group to access the admin tools
              and wizards in the dedicated environment.

03/28/2003  - the root user is no longer chroot'ed into its home directory
              which before prohibited movement except /root and down.  this
              caused a broad introduction of code to account for a user
              that shouldn't be chroot'ed; since heretofore it was generally
              presumed (in a virtual env) that a user should only have 
              access to the home path and down.  hopefully this doesn't 
              introduce a ton more problems than it fixes.  ;) 

03/03/2003  - fixed the restart apache problem in the dedicated platform to
              correctly call the apachectl with a 'restart'. added a string to
              the apache string library; see strings/CHANGELOG for details.

02/24/2003  - fixed a problem where the custom path had to be populated in the
              add user wizard when the custom path option wasn't necessarily
              selected.

02/19/2003  - added a user selector as the front end to the add virtual host
              wizard when in the dedicated environment (where virtual hosts 
              must be tied to users).  new strings were added to the vhosts
              library; see the strings/CHANGELOG for details.

02/18/2003  - added the display of file ownership to the file manager when
              operating in a dedicated environment.  one new string was added;
              see strings/CHANGELOG for details.

02/15/2003  - when viewing text/html e-mail messages, subreferenced images
              using content-id's are now handled and displayed.  

02/14/2003  - added a summary of shell privileges (by showing the value of the
              users login shell) in the dedicated user profile summary.  one
              new strings was added; see strings/CHANGELOG for details.

02/13/2003  - reworked how virtual host entry fields are automatically 
              populated from templates.  there are two templates now, one 
              which is applicable for a virtual host tied to a user (and thus
              stored in a user's home directory heirarchy), and one which is
              not tied to a user.  new strings were added in two libraries; 
              see strings/CHANGELOG for details.

02/11/2003  - added a cancel action to the change password form.  one new
              strings was added; see strings/CHANGELOG for details.

02/04/2003  - added support for the /etc/mail/access file which is used in 
              lieu of the /etc/spammers file in a dedicated environment.  a
              completely new string library was added as well as one new
              preference; see strings/CHANGELOG for details.

01/30/2003  - fixed the profile display for users in a dedicated environment.
              only a single quota listing is applicable; and group ftp, mail,
              and web privileges are displayed together.  a few new strings 
              were added; see strings/CHANGELOG for details.

01/24/2003  - changed the way confirmation of changes for users, aliases, 
              virtmaps, spammers, virtual hosts, and addressbook entries are
              displayed to make them more consistent.  this change introduced
              several new language strings; see strings/CHANGELOG for details. 

01/23/2003  - fixed a problem where temporary files were not removed properly
              after a file was uploaded which had to be confirmed.

01/22/2003  - only show directory contents header if there are directory 
              contents to display.

01/21/2003  - added code to distinguish between a master site that is 'stable'
              versus a master site that is in 'development' - I did this so 
              that remote beta testers can easily see if new versions of the
              development branch are available.  added two new strings; see
              strings/CHANGELOG for details.

01/16/2003  - can now hide/show system users in a dedicated environment.  a
              few new strings were added; see strings/CHANGELOG for details.

01/15/2003  - added a file selector for the FCC field in the mail manager.
              required the addition of new strings; see strings/CHANGELOG for
              details.

01/10/2003  - finished work on the vacation/autoresponder.  new strings were
              created in the mailmanager library.  see strings/CHANGELOG for
              details.

12/20/2002  - bug fix for authentication problem when operating in dedicated
              environment (was cropping the password to 8 chars... oops).

12/11/2002  - finished work on the address book.  supported actions include 
              view, edit, import, and remove.  new strings were created in the
              mailmanager and prefs libraries.  see strings/CHANGELOG for 
              details.

12/09/2002  - finished work on the mail message signature stuff.  supported
              actions include view/edit and remove.  new strings were created
              in the mailmanager library.  see strings/CHANGELOG for details.

##############################################################################

12/05/2002  - snapshot of code taken and committed under the 2.10 label.

12/05/2002  - added a differentiation between portuguese (pt) and brazilian
              portuguese (pt-br) in the language prefs.  different language
              string libraries now exist for pt and pt-br.  the official pt
              translation of the string libraries is pending.

12/05/2002  - initial support for VPSv2's "dedicated" environment committed to
              codebase.  the new features are all probably buggy as hell, but
              I'll fix them as I find them.  lots of new strings added; see
              the strings/CHANGELOG for a complete list.

12/04/2002  - changed the verbiage for bouncing messages to use "redirect".

11/25/2002  - changed the way files are "downloaded" so that they behave a 
              little better in the more common web clients.

11/24/2002  - added support for a VERSION.[platform] file since the Solaris
              version is now a 2.06 instead of a 2.05.  did this in order to
              distinguish between versions that have shadow/pwconv support.
              Solaris/2.05 does not have pwconv support... Solaris/2.06 does.

11/23/2002  - fixed some bugs with the Solaris shadow password file support.
              in particular, a call is now in place for pwconv.

11/21/2002  - only check "To" field value when selecting "Send", not "Cancel".

11/20/2002  - if no privileges are granted for a user, put 'noshell' in as the
              value for the privileges.

11/19/2002  - file browser for "Files on Server to Include as Attachments" is
              now functional for clients who have javascript turned on.

11/14/2002  - added a checkbox to remove a message from the source folder when
              saving the message to a selected folder (basically, it is a move 
              message feature).  required the addition of a couple of new 
              strings to the mailmanager file; see strings/CHANGELOG.

11/13/2002  - added support for shadow file on the solaris platform.

11/12/2002  - fixed a problem where an extra eol char was added to outgoing
              attachments when the file was uploaded from a remote computer.

11/01/2002  - added some error checks in the vhost functions to remove any
              leading directives should the user include them.

11/01/2002  - fixed some problems in vhosts.pl where I was using ALIASES
              strings for page titles instead of VHOSTS strings.  oops.

10/30/2002  - augmented the platform string check for solaris/sunos.

10/29/2002  - fixed the map hostname problems when vhosts with non-existent
              document roots match users with non-existent home directories.

10/28/2002  - checkboxes for removing user data in conjuction with removing
              users (such as mailboxes, home directories, and virtual hosts)
              is now unchecked by default.

10/24/2002  - fixed the out of memory errors for deleting and saving selected
              messages when large messages exist in the mailbox.

10/10/2002  - added an option to save non-text/plain attachment or message to
              a file.  added new langauge strings; see strings/CHANGELOG.

10/02/2002  - added a check for the existence of user-specified local files on
              server which are to be sent as attachments.  required the 
              addition of one new language string; see strings/CHANGELOG.

10/02/2002  - added an option in the filemanager file view menu to send file
              as an attachment.  required the addition of one new language
              string; see strings/CHANGELOG for more details.

10/01/2002  - changed the presentation of attachments in original message when
              forwarding or replying to a message.  also added support for
              attaching non-text/plain mail messages when replying to or
              forwarding a non-text/plain mail message.  two new strings were
              added to the mailmanager string library; see strings/CHANGELOG
              for complete details.

09/29/2002  - fixed a bug which prohibited the mail manager from sending local
              files as attachments.  also fixed some pdf handling problemos.

09/26/2002  - finished work (finally) on the way the mailbox messages are
              read, parsed, and handled.  The message body is no longer stored
              in memory.  Instead, as the message is being parsed, beginning
              and ending file position markers are stored for both the message
              and any message parts that may be present.

09/26/2002  - added code to determine if message is "from self" when viewing 
              the messages in a mailbox.  if a message is from self, now show
              who the message was address to in the From column (which is more
              useful)... this mimics the behavior of mutt.

09/25/2002  - now prompted for old password when changing login password.  two
              new message strings were added; see strings/CHANGELOG for more
              info.

09/24/2002  - changed the way message attachments are delimited.  before the 
              message boundary string was printed in bold between each message
              part.  now a summary of the attachment is printed.  this change
              introduced four new message strings; see strings/CHANGELOG for
              more details.

09/23/2002  - isolated the vhost_util calls and only require the library as 
              required.  also only map users to hostnames when specifically
              necessary; and even then only to the applicable list of users.

09/18/2002  - fixed some logic problems when uploading files where user must
              confirm a file be overwritten.  the temporary files were being
              removed prematurely.

09/13/2002  - added a 'Logout' button to the navigation menu for non-cookie
              (form) based authentication sessions.  it calls a javascript
              self.close() when selected (and confirmed) and closes the active
              window... it will probably end up causing more confusion than
              it solves, so it may get disabled sometime in the future.  added
              a new string; see strings/CHANGELOG for more details. 

09/13/2002  - sanitized the environment variables display on the login page.

09/12/2002  - added a new global variable, $g_user_os, which attempts to 
              represent the value of the client's remote operating system.
              this is particularly useful information when the client is 
              viewing ASCII files so that a proper eol can be represented.

09/11/2002  - rewrote formParseMultipart to store large attachments to disk
              rather than memory.  should be able to upload any size file to
              the server provided you have the actual disk space to store it.

09/09/2002  - message body reply text built correctly for non-text/plain mail
              messages. 

##############################################################################

09/03/2002  - version 2.05b released.

09/03/2002  - only show the option to add local file system attachments to
              mail messages if the user has ftp privileges.

09/03/2002  - removing an accompanying Virtual Host entry when removing a user
              now works.

08/27/2002  - changed the default 'generic_header' template such that now it
              has five image icons for the toolbar instead of the one single
              image (and its accompanying image map).  I did this so that 
              each image could have an alt="" tag to make it easier to 
              identify what icon does what.  This also forced me to create a
              new tag for the label parsing subroutines.  The tag is called
              "__LANG_STRING__#library#variablename" ... better take a look at
              it in the context of the file to see how it works.  I also
              updated the README in the label directory with a description.

08/27/2002  - added code to look for any status message that sendmail may
              spit out while being executed.  the impetus behind the change
              was the "user unknown" messages for local non-existent users.
              the status message is displayed to the user.

08/27/2002  - found a syntax problem in passwd.pl where instead of an || at 
              the end of a line to call an error function (when writing to
              vpriv.conf), I had a semicolon instead...  which meant that the
              error function was _always_ called.  oops.

08/27/2002  - added the summary bar at the top of the mail box and mail 
              message browse screens.  added a few new htmlText() functions
              for proper formatting.

08/26/2002  - added a delete() for the %INC hash before a require on language
              library.  this fixes a problem where the language library was
              not getting re-required after a language preference change.

08/26/2002  - send the login redirects (established by user preference) 
              through redirectLocation() to preserve form AUTH value.

08/22/2002  - new button bar menus for mail manager.

08/21/2002  - added a case insensitivity check to all text/plain regex's.

08/20/2002  - fixed the problem where if the virtmaps, aliases, spammers, 
              passwd, or httpd.conf file didn't have an eol on the last line,
              an eol character will be written to the file before the new 
              entries are appended.

08/20/2002  - more of Mio's mods merged (mm_compose.pl).

08/16/2002  - fixed the group reply computation.

08/12/2002  - added support to use e-mail addresses as login ids.

08/12/2002  - excluded pdf's from ASCII check when uploading a new file. 

08/09/2002  - more of Mio's mods merged (mm_save.pl, mm_browse.pl).

08/08/2002  - display of non-text/plain messages (like text/html messages) now
              behaves in a similiar way to how the non-text/plain attachments 
              work, i.e. you must now view the message body separately.  this 
              required the addition of a few language string definitions to 
              the mailmanager library; see strings/CHANGELOG for details.

08/08/2002  - merged some of Mio's ja mods into the code (mm_browse.pl).

08/06/2002  - fixed the problem where a alias/virtmap/user/spammer/vhost was
              deleted if selected using the Edit utility but submitted with
              no changes made.

08/05/2002  - added underscores to the valid login character set.

07/29/2002  - doesn't affect the code base but does affect the developer...
              my first child, a son, is born on this day.  

07/25/2002  - finished work on the virtual host template stuff; includes some
              new string definitions.  see strings/CHANGELOG for more details.

07/24/2002  - finished work to add support for virtual root profiles.

07/24/2002  - added a new set of security preferences.  see strings/CHANGELOG
              for complete description.

07/22/2002  - added a sanity checker for the string library maintainers.

07/22/2002  - code complete for virtual host wizards and restart apache wizard

07/22/2002  - new string library for the virtual host wizards ("vhosts")

07/21/2002  - new string library for the restart apache wizard ("apache")

07/18/2002  - added some new iroot prefs relating to virtual hosts.  see the
              strings/CHANGELOG file for a complete description.

07/17/2002  - split the english phrase "Virtual Server Administration Suite"
              out of some of the default graphics and put them down into a
              "graphics/lang" directory.  added a __LANG_PREF__ tag to the
              label parsing subroutines to build the proper path to these
              language specific graphics depending on the users default
              language preference.

07/16/2002  - handles passwords that contain colons correctly.

07/06/2002  - made the mail messages boundary regex more flexible for spaces.

06/10/2002  - removed spammer sources links (as all links were dead anyway). 

06/04/2002  - the residual blank line left in the vpriv.conf file when a user 
              is removed has been fixed.  also added code to remove blank 
              lines in the vpriv.conf file if found.

05/21/2002  - fixed the language selection stuff by re-requiring the language
              string libraries after user authentication (i.e. after the user
              preferences have been loaded).

10/08/2001  - supplemented "Content-Disposition with  "attachment;" -- which
              seems to be the format that nn6 and msie6 prefer.

08/13/2001  - added a "-f$g_auth{'login'}" to the sendmail argument list so 
              that bounced messages are sent back to the user instead of the
              root mailbox.

07/26/2001  - changed the regex for the construction of the Fcc default value
              from /(\w*?)\@/ to /([A-Za-z0-9\-\_\.]*?)\@/ in order to pick up
              more characters from the sender's e-mail address.

07/17/2001  - changed the mail folder selection formatting.  using a bit
              smaller font and fixed the double eof in the file listing.

06/16/2001  - added a __HTTP_HTTPS__ tag to the label parsing subroutines
              which can be used in <img> tags to reference a source image
              either with a http:// or https:// depending on the session.

05/21/2001  - added an X-Sender header to message composition so that mail
              abuse can be tracked back to the specific user much easier.

04/13/2001  - fixed that pesky "message with such and such id not found" bug 
              by removing leading white space from selected headers.  this 
              also fix the problem of some boundary strings not getting set
              from the content-type header.

04/13/2001  - added some nobr calls so msie doesn't break headers like 
              "message-id" and "x-envelope-to" across two lines.  msie sux.
              can't ignore it though.

04/13/2001  - added a call to mkdir(TMPDIR, 0755) to the init housekeeping 
              function.  had a couple of folks complain about the tmp dir
              getting nuked.  no idea how this happens. 

04/11/2001  - shortened the mail contents status string.  

04/11/2001  - fixed the delete message and save message bug when there is only
              one message left in the mailbox.  stupid stupid stupid.

03/22/2001  - added "-" to valid character set for usernames as per suggestion
              by Jared Pollister.  Thanks Jared.

03/13/2001  - added some code to print out environment variable values 
              (enclosed in comment tags) to the main login page as per 
              suggestion received via e-mail.

01/05/2001  - fixed some variable name spelling mistakes when printing errors
              in virtmaps.pl and spammers.pl.  oops.

12/07/2000  - had a good meeting with folks at a conference where I made a 
              presentation about the software.  got a lot of good feedback 
              about future improvements.  work is underway.  ;)

10/31/2000  - moved the ABOUT file that the about.cgi uses to the strings 
              language directory structure so that each language subdirectory
              will have a translated ABOUT file.  I can't believe I didn't do
              this originally.

10/20/2000  - added the language selection preference functions and strings.

10/19/2000  - added a function to set the output charset based on the user's
              language preference.  the default charset is iso-8859-1.

10/18/2000  - added a new 'download file' option to the filemanager.  the 
              functionality is same as the 'view file' utility with the 
              exception that the mime type is intentionally not set correctly.
              see strings/CHANGELOG for a complete description.

10/16/2000  - added a few more strings to help de-englishize dates in both the 
              filemanager and mailmanager. see strings/CHANGELOG for a 
              complete description.

10/13/2000  - added a few strings to help de-englishize the filemanager, 
              namely those 'suggested' filename strings that are constructed
              when making a new directory, creating a new file, or copying
              a file or directory.  see strings/CHANGELOG for a complete
              description of the new string variable names.

##############################################################################

10/12/2000  - version 2.03b released.

10/12/2000  - fixed a bug with preferences where setting your default login
              page to be the mail manager interface was not working.

10/12/2000  - introduced a __ROOT_DIR__ to the label parsing subroutines which 
              is a bit more comprehensive than the former __GRAPHICS_DIR__
              string.  the string is to be used in url's included in header 
              and footer files.  the README file in the label subdirectory has 
              been updated to document the new tag.

10/06/2000  - added a MAINTAINER file which is intended to include the name and
              e-mail address of the individual responsible for each language
              library

10/06/2000  - added $FILEMANAGER_ACTIONS_EDIT_SAVE_HTTPD_CONF_TEXT to the
              filemanager library.  it's part of my hack to fix the premature
              exit of the script when the httpd.conf is manually edited. 

10/06/2000  - fixed problem editing user quotas from non-zero number to a
              zero (which implies no quota limitation)

10/05/2000  - fixed the upload bug when specifying a symlink as part of the
              target path whose target is a directory (i.e. 'www').

10/05/2000  - added support for the vpriv.conf file so the software will 
              correctly read/write privileges on the solaris platform.

10/04/2000  - fixed some problems with displaying multipart attachments in the
              default message text of a 'reply to message' request.  also 
              found some problems with the attachment numbering in the reply
              to message interface, which I of course fixed.  yuck.

10/04/2000  - fixed a bug with the display of dates in mail messages.  oops.

09/27/2000  - fixed that pesky reauthentication problem... finally?

09/08/2000  - added socket.pl library and changed method for getting info from
              master site to use a local network socket to get version info
              rather than explicitly setting the frame src to be the master
              site url.  in conjuction with this, two new strings were added
              to the main string library to describe socket errors should one
              occur.

09/08/2000  - changed the user valid character set to include a dot (.) to
              match behavior of ACE.

09/08/2000  - modified the display of the multi-user addition (and edition)
              form so that the headers repeat themselves after every two sets
              of user fields.

##############################################################################

09/07/2000  - version 2.02b released.

09/07/2000  - fixed a bunch of alias strings that had virtmap references.
              oops!

09/07/2000  - changed fm_upload so that if multiple files are uploaded to the
              same directory, a redirect is made to the file manager to browse
              that directory.

09/06/2000  - fixed a problem with hostname checking that was causing repeated
              requests for reauthentication.

09/05/2000  - added a 'imanager.' check to remove a leading 'imanager.'
              occurrence from the constructed 'From' address in the mail
              manager.

08/31/2000  - added 'DirectoryIndex index.cgi' to the main .htaccess file.

08/30/2000  - fixed problem where boundary string contained meta characters
              which were not being treated literally.  added \Q to a number of
              pattern matching regular expressions in mm_util.pl.

08/30/2000  - merged all references to 'the software title' in the string
              libraries to a single variable $SOFTWARE_TITLE in the 'main'
              string library.

##############################################################################

08/29/2000  - version 2.01b released.

##############################################################################

